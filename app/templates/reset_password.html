<head>
    <link rel="stylesheet" href="/static/css/l_r.css">
</head>
{% extends "body.html" %}
{% block content %}
<h2>Set New Password</h2>
<form id="reset-password-form" action="{{ url_for('core.reset_password', token=token) }}" method="POST">
    <label for="new_password">New Password:</label>
    <input type="password" id="new_password" name="new_password" required>
    
    <label for="confirm_password">Confirm Password:</label>
    <input type="password" id="confirm_password" name="confirm_password" required>
    
    <button type="submit">Reset Password</button>
</form>
<p id="error-message" style="color: red; display: none;">Passwords do not match!</p>

<script>
document.getElementById('reset-password-form').addEventListener('submit', function (event) {
    const password = document.getElementById('new_password').value;
    const confirmPassword = document.getElementById('confirm_password').value;

    if (password !== confirmPassword) {
        event.preventDefault(); // Prevent form submission
        const errorMessage = document.getElementById('error-message');
        errorMessage.style.display = 'block'; // Show error message
    }
});
</script>
{% endblock %} 