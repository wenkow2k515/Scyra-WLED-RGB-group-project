{% extends "body.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}
<!-- Background elements -->
<div class="led-bg"></div>
<div class="bg-gradient"></div>

<!-- Hero Section -->
<section class="hero">
    <h1>Transform Your <span class="highlight">Emotions</span> into Light</h1>
    <p>MoodBeam analyzes how you feel and creates the perfect lighting environment to enhance your wellbeing and complement your state of mind.</p>
    <div class="hero-buttons">
        <a href="{{ url_for('mood_survey') }}" class="btn btn-primary">Take Mood Survey</a>
        <a href="{{ url_for('about') }}" class="btn btn-secondary">Learn More</a>
    </div>
    
    <div class="led-strip-illustration">
        <div class="led-segment"></div>
        <div class="led-segment"></div>
        <div class="led-segment"></div>
        <div class="led-segment"></div>
        <div class="led-segment"></div>
        <div class="led-segment"></div>
        <div class="led-segment"></div>
        <div class="led-segment"></div>
    </div>
</section>

<div class="container">
    <p>Enhance your wellbeing with mood-responsive lighting in four simple steps:</p>
    
    <div id="step1" class="step">
        <h2>1. Complete the Mood Survey</h2>
        <p>Answer 10 simple questions about how you're feeling right now.</p>
    </div>
    
    <div id="step2" class="step">
        <h2>2. Discover Your Color Match</h2>
        <p>Our algorithm analyzes your responses and suggests colors scientifically linked to your emotional state.</p>
    </div>
    
    <div id="step3" class="step">
        <h2>3. Customize and Apply</h2>
        <p>Fine-tune brightness and effects, then send directly to your WLED device to create your perfect environment.</p>
    </div>

    <div id="step4" class="step">
        <h2>4. Track Your Emotional Journey</h2>
        <p>Visit your personal dashboard to see patterns in your mood and lighting preferences over time.</p>
    </div>

    <!-- Redirect Button -->
    <div class="redirect">
        <button onclick="window.location.href='{{ url_for('mood_survey') }}'">Begin Your MoodBeam Journey â†’</button>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Animation for the LED strip illustration
    document.addEventListener('DOMContentLoaded', () => {
        const segments = document.querySelectorAll('.led-segment');
        
        // Animate the LED segments with a breathing effect and emotion colors
        function animateSegments() {
            const emotionColors = ['#FF5E5E', '#5E8AFF', '#5EFF8A', '#FFDE5E', '#C45EFF']; // Red, Blue, Green, Yellow, Purple
            
            segments.forEach((segment, index) => {
                // Assign an emotion color
                const colorIndex = index % emotionColors.length;
                segment.style.backgroundColor = emotionColors[colorIndex];
                
                setTimeout(() => {
                    segment.classList.add('animate');
                    setTimeout(() => {
                        segment.classList.remove('animate');
                    }, 2000);
                }, index * 200);
            });
        }
        
        // Initial animation
        setTimeout(animateSegments, 500);
        
        // Repeat animation every 5 seconds
        setInterval(animateSegments, 5000);
    });
</script>
{% endblock %}